<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pylo: pylo.vendors.psutil._psposix Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Pylo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepylo.html">pylo</a></li><li class="navelem"><a class="el" href="namespacepylo_1_1vendors.html">vendors</a></li><li class="navelem"><a class="el" href="namespacepylo_1_1vendors_1_1psutil.html">psutil</a></li><li class="navelem"><a class="el" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html">_psposix</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">pylo.vendors.psutil._psposix Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0cc266402efa66411a50a0c1ba7cfce"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ab0cc266402efa66411a50a0c1ba7cfce">pid_exists</a> (pid)</td></tr>
<tr class="separator:ab0cc266402efa66411a50a0c1ba7cfce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1aa48942d86574ae0e9edeeaf590e2f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ac1aa48942d86574ae0e9edeeaf590e2f">wait_pid</a> (pid, timeout=None, proc_name=None)</td></tr>
<tr class="separator:ac1aa48942d86574ae0e9edeeaf590e2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acce800e0068a7dc408f0cf1fc8e724b0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#acce800e0068a7dc408f0cf1fc8e724b0">disk_usage</a> (path)</td></tr>
<tr class="separator:acce800e0068a7dc408f0cf1fc8e724b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5942670ffc36f37f2f6e9efbe055529f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#a5942670ffc36f37f2f6e9efbe055529f">get_terminal_map</a> ()</td></tr>
<tr class="separator:a5942670ffc36f37f2f6e9efbe055529f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9a672dc0662527ab8f374bb2d5b15ea9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#a9a672dc0662527ab8f374bb2d5b15ea9">TimeoutExpired</a> = None</td></tr>
<tr class="separator:a9a672dc0662527ab8f374bb2d5b15ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acce800e0068a7dc408f0cf1fc8e724b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acce800e0068a7dc408f0cf1fc8e724b0">&#9670;&nbsp;</a></span>disk_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pylo.vendors.psutil._psposix.disk_usage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return disk usage associated with path.
Note: UNIX usually reserves 5% disk space which is not accessible
by user. In this function "total" and "used" values reflect the
total and used disk space whereas "free" and "percent" represent
the "free" and "used percent" user disk space.
</pre> <div class="fragment"><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="keyword">def </span><a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#acce800e0068a7dc408f0cf1fc8e724b0">disk_usage</a>(path):</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Return disk usage associated with path.</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="stringliteral">    Note: UNIX usually reserves 5% disk space which is not accessible</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="stringliteral">    by user. In this function &quot;total&quot; and &quot;used&quot; values reflect the</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="stringliteral">    total and used disk space whereas &quot;free&quot; and &quot;percent&quot; represent</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="stringliteral">    the &quot;free&quot; and &quot;used percent&quot; user disk space.</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">if</span> PY3:</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        st = os.statvfs(path)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="comment"># os.statvfs() does not support unicode on Python 2:</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="comment"># - https://github.com/giampaolo/psutil/issues/416</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment"># - http://bugs.python.org/issue18695</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            st = os.statvfs(path)</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">except</span> UnicodeEncodeError:</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">if</span> isinstance(path, unicode):</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    path = path.encode(sys.getfilesystemencoding())</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">except</span> UnicodeEncodeError:</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                st = os.statvfs(path)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">raise</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment"># Total space which is only available to root (unless changed</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment"># at system level).</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    total = (st.f_blocks * st.f_frsize)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="comment"># Remaining free space usable by root.</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    avail_to_root = (st.f_bfree * st.f_frsize)</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment"># Remaining free space usable by user.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    avail_to_user = (st.f_bavail * st.f_frsize)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="comment"># Total space being used in general.</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    used = (total - avail_to_root)</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="comment"># Total space which is available to user (same as &#39;total&#39; but</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="comment"># for the user).</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    total_user = used + avail_to_user</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment"># User usage percent compared to the total amount of space</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment"># the user can use. This number would be higher if compared</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment"># to root&#39;s because the user has less space (usually -5%).</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    usage_percent_user = <a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__common.html#ae9059bb7157a030570a511a2e4436e4b">usage_percent</a>(used, total_user, round_=1)</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment"># NB: the percentage is -5% than what shown by df due to</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment"># reserved blocks that we are currently not considering:</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment"># https://github.com/giampaolo/psutil/issues/829#issuecomment-223750462</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__common.html#a736726f1473332b9c4540d229639390c">sdiskusage</a>(</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        total=total, used=used, free=avail_to_user, percent=usage_percent_user)</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;<span class="preprocessor">@memoize</span></div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__common_html_a736726f1473332b9c4540d229639390c"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__common.html#a736726f1473332b9c4540d229639390c">pylo.vendors.psutil._common.sdiskusage</a></div><div class="ttdeci">sdiskusage</div><div class="ttdef"><b>Definition:</b> _common.py:170</div></div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__common_html_ae9059bb7157a030570a511a2e4436e4b"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__common.html#ae9059bb7157a030570a511a2e4436e4b">pylo.vendors.psutil._common.usage_percent</a></div><div class="ttdeci">def usage_percent(used, total, round_=None)</div><div class="ttdef"><b>Definition:</b> _common.py:266</div></div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_html_acce800e0068a7dc408f0cf1fc8e724b0"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#acce800e0068a7dc408f0cf1fc8e724b0">pylo.vendors.psutil._psposix.disk_usage</a></div><div class="ttdeci">def disk_usage(path)</div><div class="ttdef"><b>Definition:</b> _psposix.py:117</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacepylo_1_1vendors_1_1psutil_1_1__psposix_acce800e0068a7dc408f0cf1fc8e724b0_cgraph.png" border="0" usemap="#anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_acce800e0068a7dc408f0cf1fc8e724b0_cgraph" alt=""/></div>
<map name="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_acce800e0068a7dc408f0cf1fc8e724b0_cgraph" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_acce800e0068a7dc408f0cf1fc8e724b0_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,148,47"/>
<area shape="rect" href="namespacepylo_1_1vendors_1_1psutil_1_1__common.html#ae9059bb7157a030570a511a2e4436e4b" title=" " alt="" coords="196,5,363,47"/>
</map>
</div>

</div>
</div>
<a id="a5942670ffc36f37f2f6e9efbe055529f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5942670ffc36f37f2f6e9efbe055529f">&#9670;&nbsp;</a></span>get_terminal_map()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pylo.vendors.psutil._psposix.get_terminal_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a map of device-id -&gt; path as a dict.
Used by Process.terminal()
</pre> <div class="fragment"><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;<span class="keyword">def </span><a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#a5942670ffc36f37f2f6e9efbe055529f">get_terminal_map</a>():</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Get a map of device-id -&gt; path as a dict.</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<span class="stringliteral">    Used by Process.terminal()</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    ret = {}</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    ls = glob.glob(<span class="stringliteral">&#39;/dev/tty*&#39;</span>) + glob.glob(<span class="stringliteral">&#39;/dev/pts/*&#39;</span>)</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">for</span> name <span class="keywordflow">in</span> ls:</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keyword">assert</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> ret, name</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            ret[os.stat(name).st_rdev] = name</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">except</span> FileNotFoundError:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">pass</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">return</span> ret</div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_html_a5942670ffc36f37f2f6e9efbe055529f"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#a5942670ffc36f37f2f6e9efbe055529f">pylo.vendors.psutil._psposix.get_terminal_map</a></div><div class="ttdeci">def get_terminal_map()</div><div class="ttdef"><b>Definition:</b> _psposix.py:167</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0cc266402efa66411a50a0c1ba7cfce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0cc266402efa66411a50a0c1ba7cfce">&#9670;&nbsp;</a></span>pid_exists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pylo.vendors.psutil._psposix.pid_exists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check whether pid exists in the current process table.</pre> <div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="keyword">def </span><a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ab0cc266402efa66411a50a0c1ba7cfce">pid_exists</a>(pid):</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Check whether pid exists in the current process table.&quot;&quot;&quot;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> pid == 0:</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="comment"># According to &quot;man 2 kill&quot; PID 0 has a special meaning:</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment"># it refers to &lt;&lt;every process in the process group of the</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="comment"># calling process&gt;&gt; so we don&#39;t want to go any further.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment"># If we get here it means this UNIX platform *does* have</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment"># a process with id 0.</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        os.kill(pid, 0)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">except</span> ProcessLookupError:</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">except</span> PermissionError:</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="comment"># EPERM clearly means there&#39;s a process to deny access to</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment"># According to &quot;man 2 kill&quot; possible error values are</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="comment"># (EINVAL, EPERM, ESRCH)</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160; </div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160; </div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_html_ab0cc266402efa66411a50a0c1ba7cfce"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ab0cc266402efa66411a50a0c1ba7cfce">pylo.vendors.psutil._psposix.pid_exists</a></div><div class="ttdeci">def pid_exists(pid)</div><div class="ttdef"><b>Definition:</b> _psposix.py:32</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1aa48942d86574ae0e9edeeaf590e2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1aa48942d86574ae0e9edeeaf590e2f">&#9670;&nbsp;</a></span>wait_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def pylo.vendors.psutil._psposix.wait_pid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>proc_name</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Wait for process with pid 'pid' to terminate and return its
exit status code as an integer.

If pid is not a children of os.getpid() (current process) just
waits until the process disappears and return None.

If pid does not exist at all return None immediately.

Raise TimeoutExpired on timeout expired.
</pre> <div class="fragment"><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">def </span><a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ac1aa48942d86574ae0e9edeeaf590e2f">wait_pid</a>(pid, timeout=None, proc_name=None):</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="stringliteral">&quot;&quot;&quot;Wait for process with pid &#39;pid&#39; to terminate and return its</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="stringliteral">    exit status code as an integer.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="stringliteral">    If pid is not a children of os.getpid() (current process) just</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="stringliteral">    waits until the process disappears and return None.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="stringliteral">    If pid does not exist at all return None immediately.</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="stringliteral"></span> </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="stringliteral">    Raise TimeoutExpired on timeout expired.</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keyword">def </span>check_timeout(delay):</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> timeout <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">if</span> timer() &gt;= stop_at:</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <span class="keywordflow">raise</span> <a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#a9a672dc0662527ab8f374bb2d5b15ea9">TimeoutExpired</a>(timeout, pid=pid, name=proc_name)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        time.sleep(delay)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">return</span> min(delay * 2, 0.04)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160; </div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    timer = getattr(time, <span class="stringliteral">&#39;monotonic&#39;</span>, time.time)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">if</span> timeout <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keyword">def </span>waitcall():</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="keywordflow">return</span> os.waitpid(pid, os.WNOHANG)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        stop_at = timer() + timeout</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="keyword">def </span>waitcall():</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            <span class="keywordflow">return</span> os.waitpid(pid, 0)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160; </div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    delay = 0.0001</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">try</span>:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            retpid, status = waitcall()</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="keywordflow">except</span> InterruptedError:</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            delay = check_timeout(delay)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">except</span> ChildProcessError:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            <span class="comment"># This has two meanings:</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            <span class="comment"># - pid is not a child of os.getpid() in which case</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="comment">#   we keep polling until it&#39;s gone</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="comment"># - pid never existed in the first place</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            <span class="comment"># In both cases we&#39;ll eventually return None as we</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            <span class="comment"># can&#39;t determine its exit status code.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="keywordflow">if</span> <a class="code" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ab0cc266402efa66411a50a0c1ba7cfce">pid_exists</a>(pid):</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    delay = check_timeout(delay)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    <span class="keywordflow">return</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span> retpid == 0:</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="comment"># WNOHANG was used, pid is still running</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                delay = check_timeout(delay)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">continue</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            <span class="comment"># process exited due to a signal; return the integer of</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            <span class="comment"># that signal</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;            <span class="keywordflow">if</span> os.WIFSIGNALED(status):</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">return</span> -os.WTERMSIG(status)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="comment"># process exited using exit(2) system call; return the</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            <span class="comment"># integer exit(2) system call has been called with</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="keywordflow">elif</span> os.WIFEXITED(status):</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                <span class="keywordflow">return</span> os.WEXITSTATUS(status)</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">else</span>:</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                <span class="comment"># should never happen</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;unknown process exit status %r&quot;</span> % status)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160; </div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160; </div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_html_a9a672dc0662527ab8f374bb2d5b15ea9"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#a9a672dc0662527ab8f374bb2d5b15ea9">pylo.vendors.psutil._psposix.TimeoutExpired</a></div><div class="ttdeci">TimeoutExpired</div><div class="ttdef"><b>Definition:</b> _psposix.py:29</div></div>
<div class="ttc" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_html_ac1aa48942d86574ae0e9edeeaf590e2f"><div class="ttname"><a href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ac1aa48942d86574ae0e9edeeaf590e2f">pylo.vendors.psutil._psposix.wait_pid</a></div><div class="ttdeci">def wait_pid(pid, timeout=None, proc_name=None)</div><div class="ttdef"><b>Definition:</b> _psposix.py:54</div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacepylo_1_1vendors_1_1psutil_1_1__psposix_ac1aa48942d86574ae0e9edeeaf590e2f_cgraph.png" border="0" usemap="#anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_ac1aa48942d86574ae0e9edeeaf590e2f_cgraph" alt=""/></div>
<map name="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_ac1aa48942d86574ae0e9edeeaf590e2f_cgraph" id="anamespacepylo_1_1vendors_1_1psutil_1_1__psposix_ac1aa48942d86574ae0e9edeeaf590e2f_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,136,47"/>
<area shape="rect" href="namespacepylo_1_1vendors_1_1psutil_1_1__psposix.html#ab0cc266402efa66411a50a0c1ba7cfce" title=" " alt="" coords="184,5,319,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9a672dc0662527ab8f374bb2d5b15ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a672dc0662527ab8f374bb2d5b15ea9">&#9670;&nbsp;</a></span>TimeoutExpired</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pylo.vendors.psutil._psposix.TimeoutExpired = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 29 2021 08:09:57 for Pylo by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
